const tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),tooltipList=[...tooltipTriggerList].map(e=>new bootstrap.Tooltip(e)),lenis=new Lenis;function checkiftooltip(){$(window).width()>768?($('[data-toggle="tooltip"]').tooltip(),$("[data-toggle='tooltip']").tooltip(),$('[data-toggle="tooltip"]').tooltip("enable")):$('[data-toggle="tooltip"]').tooltip("disable")}function checkifLenis(){0==$(window).width()<768?lenis.start():lenis.destroy()}function raf(e){lenis.raf(e),requestAnimationFrame(raf)}lenis.stop(),$(document).ready(function(){var e,t,o,a,n,s,i;$(".panel").css("opacity","1"),checkiftooltip(),lenis.start(),$("body").removeClass("opacity-0"),$("html").css("opacity",1),changingH1s(),o=document,a=o.getElementById,n=o.createElement,s=o.getElementsByTagName,i="typef_orm_share",a.call(o,i)||((e=n.call(o,"script")).id=i,e.src="https://embed.typeform.com/embed.js",(t=s.call(o,"script")[0]).parentNode.insertBefore(e,t))}),$(window).resize(function(){checkiftooltip()}),lenis.on("scroll",e=>{}),requestAnimationFrame(raf),document.querySelectorAll('[data-target^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),lenis.scrollTo(this.getAttribute("data-target")),bootstrap.Tooltip.dispose(),setTimeout(function(){[...tooltipTriggerList].map(e=>new bootstrap.Tooltip(e))},3050)})}),$(window).scroll(function(){$(this).scrollTop()>800?$("#toTop").fadeIn("fast",function(){}):$("#toTop").fadeOut("fast")});const showAnim=gsap.from(".main-navbar",{yPercent:-100,paused:!0,duration:.3}).progress(1);ScrollTrigger.create({start:"top top",end:99999,onUpdate:e=>{-1===e.direction?showAnim.play():showAnim.reverse()}}),gsap.registerPlugin(ScrollTrigger),setTimeout(function(){gsap.to(".progress-circle",{strokeDashoffset:0,ease:"none",scrollTrigger:{scrub:.3},onComplete:e=>{$(".icon-wrap").addClass("bg-secondary"),$(".icon--close path").css({fill:"#3A2D52"})},onUpdate:e=>{"0px"!==$(".progress-circle").css("stroke-dashoffset")&&($(".icon-wrap").removeClass("bg-secondary"),$(".icon--close path").css({fill:"#3A2D52"}))}})},300);const panels=document.querySelectorAll(".panel");panels.forEach((e,t)=>{gsap.set(e,{y:t*e.offsetHeight})});const panelTimeline=gsap.timeline({scrollTrigger:{trigger:".cardsContainer",pin:!0,start:"top 5%",end:"+=1400px",scrub:!0}});function isScrolledIntoView(e){var t=$(window).scrollTop(),o=t+$(window).height(),a=$(e).offset().top;return a+$(e).height()<=o&&a>=t}panels.forEach((e,t)=>{var o=`${t+1}`;panelTimeline.to(e,{y:-(t*e.offsetHeight-75*t),duration:4,stagger:1,delay:1*t,ease:"linear",onComplete:()=>{switch(o){case"1":break;case"2":$("#voicemodPanel").css("scale",".94").css("marginTop","-25px"),$(".voicemodPanel").addClass("btn-link").removeClass("btn-outline-primary"),$(".metaPanel").addClass("btn-outline-primary").removeClass("btn-link");break;case"3":$("#voicemodPanel").css("scale",".86"),$("#metaPanel").css("scale",".94").css("marginTop","-55px"),$(".metaPanel").addClass("btn-link").removeClass("btn-outline-primary"),$(".msftPanel").addClass("btn-outline-primary").removeClass("btn-link")}},onReverseComplete:()=>{switch(o){case"1":$(".voicemodPanel").addClass("btn-outline-primary").removeClass("btn-link"),$(".metaPanel").addClass("btn-link").removeClass("btn-outline-primary");break;case"2":$("#voicemodPanel").css("scale","1"),$(".voicemodPanel").addClass("btn-link").removeClass("btn-link"),$(".metaPanel").addClass("btn-link").removeClass("btn-link");break;case"3":$("#metaPanel").css("scale","1").css("marginTop","0px"),$(".metaPanel").addClass("btn-outline-primary").removeClass("btn-link"),$(".msftPanel").addClass("btn-link").removeClass("btn-outline-primary")}}})});const cards=document.querySelectorAll(".design-card");gsap.set(cards,{position:"absolute"});const cardTimeline=gsap.timeline({scrollTrigger:{trigger:".design-cards",pin:!0,start:"-15%",end:"1000px",scrub:!0}});cards.forEach((e,t)=>{var o=`${t+1}`;cardTimeline.to(e,{yPercent:-180,rotation:32,stagger:3,duration:8,onComplete:()=>{switch(o){case"3":isScrolledIntoView($(".celebrate"))&&$(window).width()>=769&&confetti({particleCount:100,spread:70,origin:{y:.6}})}}})});const horizontalSections=gsap.utils.toArray("section.horizontal");horizontalSections.forEach(function(e,t){var o=e.querySelector(".pin-wrap").querySelector(".animation-wrap"),a=()=>-6.2*$(".testimonialCard").width();gsap.fromTo(o,{x:()=>o.classList.contains("to-right")?0:a()},{x:()=>o.classList.contains("to-right")?a():0,ease:"none",scrollTrigger:{trigger:e,start:"center center",end:"+=100%",pin:!0,invalidateOnRefresh:!0,scrub:!0}})}),function(e,t){var o=e.createElement(t),a=e.getElementsByTagName(t)[0];o.onload=function(){window.voiceflow.chat.load({verify:{projectID:"64f776b3d0a6dd00073f976a"},url:"https://general-runtime.voiceflow.com",versionID:"production"})},o.src="https://cdn.voiceflow.com/widget/bundle.mjs",o.type="text/javascript",a.parentNode.insertBefore(o,a)}(document,"script"),0===$(window).scrollTop()?gsap.set(".anim01, .anim02, .anim03, .anim04",{opacity:"0"}):gsap.set(".anim01, .anim02, .anim03, .anim04",{opacity:"1"});const timeline=gsap.timeline();function changingH1s(){var e=["Crafting products with a purpose.","User-focused experiences.","Designing products with user insights."],t=0,o=$("#changing-text");setInterval(function(){var a=e[t].split(" ").map(function(e){return $("<span>").text(e+" ")});o.fadeTo("slow",0,function(){o.empty().append(a),$(a).each(function(e){$(this).css("opacity",0).delay(200*e).fadeTo("slow",1),o.fadeTo("slow",1)})}),t=(t+1)%e.length},7e3)}timeline.add(gsap.to(".anim01",{delay:1,duration:1,opacity:1})).add(gsap.to(".anim02",{duration:1,opacity:1}),"-=0.3").add(gsap.to(".anim03",{duration:1,opacity:1}),"-=0.3").add(gsap.to(".anim04",{duration:1,opacity:1}),"-=0.3");let trigger=document.getElementById("worksDropdown");document.getElementById("worksDropdown").addEventListener("mouseover",()=>{$(trigger).hasClass("show")||bootstrap.Dropdown.getOrCreateInstance(trigger).toggle()}),document.getElementById("dropdown-menu").addEventListener("mouseleave",()=>{bootstrap.Dropdown.getOrCreateInstance(trigger).toggle(),$(trigger).hasClass("show")||($("#ddImgContainer").attr("src","img/misc/illustrations/spying.svg"),$("#ddImgContainer").attr("alt","Spying illustration"))}),$(".ddLink").on("mouseover",function(){switch($(this).attr("class").split(" ")[1]){case"voicemodDD":$("#ddImgContainer").attr("src","img/misc/logos/voicemod-logo-card.svg"),$("#ddImgContainer").attr("alt","Voicemod logo");break;case"metaDD":$("#ddImgContainer").attr("src","img/misc/logos/meta-logo-card.svg"),$("#ddImgContainer").attr("alt","Meta logo");break;case"msftDD":$("#ddImgContainer").attr("src","img/misc/logos/msft-logo-card.svg"),$("#ddImgContainer").attr("alt","Microsoft logo")}});