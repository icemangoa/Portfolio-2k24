const tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),tooltipList=[...tooltipTriggerList].map(t=>new bootstrap.Tooltip(t)),lenis=new Lenis;function checkiftooltip(){$(window).width()>768?($('[data-toggle="tooltip"]').tooltip(),$("[data-toggle='tooltip']").tooltip(),$('[data-toggle="tooltip"]').tooltip("enable")):$('[data-toggle="tooltip"]').tooltip("disable")}function checkifLenis(){0==$(window).width()<768?lenis.start():lenis.destroy()}function raf(t){lenis.raf(t),requestAnimationFrame(raf)}lenis.stop(),$(document).ready(function(){$(".panel").css("opacity","1"),checkiftooltip(),lenis.start(),$("body").removeClass("opacity-0"),$("html").css("opacity",1),changingH1s()}),$(window).resize(function(){checkiftooltip()}),lenis.on("scroll",t=>{}),requestAnimationFrame(raf),document.querySelectorAll('[data-target^="#"]').forEach(t=>{t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),lenis.scrollTo(this.getAttribute("data-target")),bootstrap.Tooltip.dispose(),setTimeout(function(){[...tooltipTriggerList].map(t=>new bootstrap.Tooltip(t))},3050)})}),$(window).scroll(function(){$(this).scrollTop()>800?$("#toTop").fadeIn("fast",function(){}):$("#toTop").fadeOut("fast")});const showAnim=gsap.from(".main-navbar",{yPercent:-100,paused:!0,duration:.3}).progress(1);ScrollTrigger.create({start:"top top",end:99999,onUpdate:t=>{-1===t.direction?showAnim.play():showAnim.reverse()}}),gsap.registerPlugin(ScrollTrigger),setTimeout(function(){gsap.to(".progress-circle",{strokeDashoffset:0,ease:"none",scrollTrigger:{scrub:.3},onComplete:t=>{$(".icon-wrap").addClass("bg-secondary"),$(".icon--close path").css({fill:"#3A2D52"})},onUpdate:t=>{"0px"!==$(".progress-circle").css("stroke-dashoffset")&&($(".icon-wrap").removeClass("bg-secondary"),$(".icon--close path").css({fill:"#3A2D52"}))}})},300);const panels=document.querySelectorAll(".panel");panels.forEach((t,e)=>{gsap.set(t,{y:e*t.offsetHeight})});const panelTimeline=gsap.timeline({scrollTrigger:{trigger:".cardsContainer",pin:!0,start:"top 5%",end:"+=1400px",scrub:!0}});function isScrolledIntoView(t){var e=$(window).scrollTop(),o=e+$(window).height(),a=$(t).offset().top;return a+$(t).height()<=o&&a>=e}panels.forEach((t,e)=>{var o=`${e+1}`;panelTimeline.to(t,{y:-(e*t.offsetHeight-75*e),duration:1,stagger:1,delay:1*e,ease:"linear",onComplete:()=>{switch(o){case"1":break;case"2":$("#voicemodPanel").css("scale",".94").css("marginTop","-25px"),$(".voicemodPanel").addClass("btn-link").removeClass("btn-outline-primary"),$(".metaPanel").addClass("btn-outline-primary").removeClass("btn-link");break;case"3":$("#voicemodPanel").css("scale",".86"),$("#metaPanel").css("scale",".94").css("marginTop","-55px"),$(".metaPanel").addClass("btn-link").removeClass("btn-outline-primary"),$(".msftPanel").addClass("btn-outline-primary").removeClass("btn-link")}},onReverseComplete:()=>{switch(o){case"1":$(".voicemodPanel").addClass("btn-outline-primary").removeClass("btn-link"),$(".metaPanel").addClass("btn-link").removeClass("btn-outline-primary");break;case"2":$("#voicemodPanel").css("scale","1"),$(".voicemodPanel").addClass("btn-link").removeClass("btn-link"),$(".metaPanel").addClass("btn-link").removeClass("btn-link");break;case"3":$("#metaPanel").css("scale","1").css("marginTop","0px"),$(".metaPanel").addClass("btn-outline-primary").removeClass("btn-link"),$(".msftPanel").addClass("btn-link").removeClass("btn-outline-primary")}}})});const cards=document.querySelectorAll(".design-card");gsap.set(cards,{position:"absolute"});const cardTimeline=gsap.timeline({scrollTrigger:{trigger:".design-cards",pin:!0,start:"-15%",end:"1000px",scrub:!0}});cards.forEach((t,e)=>{var o=`${e+1}`;cardTimeline.to(t,{yPercent:-180,rotation:32,stagger:3,duration:8,onComplete:()=>{switch(o){case"3":isScrolledIntoView($(".celebrate"))&&$(window).width()>=769&&confetti({particleCount:100,spread:70,origin:{y:.6}})}}})});const horizontalSections=gsap.utils.toArray("section.horizontal");horizontalSections.forEach(function(t,e){var o=t.querySelector(".pin-wrap").querySelector(".animation-wrap"),a=()=>-6.2*$(".testimonialCard").width();gsap.fromTo(o,{x:()=>o.classList.contains("to-right")?0:a()},{x:()=>o.classList.contains("to-right")?a():0,ease:"none",scrollTrigger:{trigger:t,start:"center center",end:"+=100%",pin:!0,invalidateOnRefresh:!0,scrub:!0}})}),function(t,e){var o=t.createElement(e),a=t.getElementsByTagName(e)[0];o.onload=function(){window.voiceflow.chat.load({verify:{projectID:"64f776b3d0a6dd00073f976a"},url:"https://general-runtime.voiceflow.com",versionID:"production"})},o.src="https://cdn.voiceflow.com/widget/bundle.mjs",o.type="text/javascript",a.parentNode.insertBefore(o,a)}(document,"script"),0===$(window).scrollTop()?gsap.set(".anim01, .anim02, .anim03, .anim04",{opacity:"0"}):gsap.set(".anim01, .anim02, .anim03, .anim04",{opacity:"1"});const timeline=gsap.timeline();function changingH1s(){var t=["Crafting products with a purpose.","User-focused experiences.","Designing products with user insights."],e=0,o=$("#changing-text");setInterval(function(){var a=t[e].split(" ").map(function(t){return $("<span>").text(t+" ")});o.fadeTo("slow",0,function(){o.empty().append(a),$(a).each(function(t){$(this).css("opacity",0).delay(200*t).fadeTo("slow",1),o.fadeTo("slow",1)})}),e=(e+1)%t.length},7e3)}timeline.add(gsap.to(".anim01",{delay:1,duration:1,opacity:1})).add(gsap.to(".anim02",{duration:1,opacity:1}),"-=0.3").add(gsap.to(".anim03",{duration:1,opacity:1}),"-=0.3").add(gsap.to(".anim04",{duration:1,opacity:1}),"-=0.3");let trigger=document.getElementById("worksDropdown");document.getElementById("worksDropdown").addEventListener("mouseover",()=>{$(trigger).hasClass("show")||bootstrap.Dropdown.getOrCreateInstance(trigger).toggle()}),document.getElementById("dropdown-menu").addEventListener("mouseleave",()=>{bootstrap.Dropdown.getOrCreateInstance(trigger).toggle(),$(trigger).hasClass("show")||($("#ddImgContainer").attr("src","img/misc/illustrations/spying.svg"),$("#ddImgContainer").attr("alt","Spying illustration"))}),$(".ddLink").on("mouseover",function(){switch($(this).attr("class").split(" ")[1]){case"voicemodDD":$("#ddImgContainer").attr("src","img/misc/logos/voicemod-logo-card.svg"),$("#ddImgContainer").attr("alt","Voicemod logo");break;case"metaDD":$("#ddImgContainer").attr("src","img/misc/logos/meta-logo-card.svg"),$("#ddImgContainer").attr("alt","Meta logo");break;case"msftDD":$("#ddImgContainer").attr("src","img/misc/logos/msft-logo-card.svg"),$("#ddImgContainer").attr("alt","Microsoft logo")}});